(function(){var n,o,e,t;window.bone={},bone.log=!0,n=/^(\S+)\s*(.*)$/,e=Array.prototype.slice,t=Object.prototype.toString,o=function(){},bone.view=function(o,e){var r,c,u,i,l,s,f,a;s={},u=e.events,f=function(t,r){var c,u,i,l,f;return l=t.match(n),u=l[1],f=l[2],i=o,null!=f&&(i+=" "+f),c=e[r],$(function(){return $("body").on(u,i,function(n){var e;return bone.log&&console.log("Interface: ["+i+":"+u+"]",n.currentTarget),e=$(i).parents(o)[0],c.call(s,e,n)})})};for(c in u)i=u[c],"events"!==i&&f(c,i);a=function(n,e){return s[n]=function(t){var r,c,u,i,l;for(i=$(o),l=[],c=0,u=i.length;u>c;c++)r=i[c],l.push(function(r){return bone.log&&console.log("View: ["+o+":"+n+"]",r,t),e.call(s,r,t)}(r));return l}};for(l in e)r=e[l],"events"!==l&&("[object Function]"===t.call(r)?a(l,r):s[l]=r);return s},bone.io={},bone.io.sources={},bone.io.get=function(n){var o;return o=bone.io.sources[n],null!=o?o:(o=io.connect(),bone.io.sources[n]=o,o)},bone.io.route=function(n,o){var e,t,r,c;r=bone.io.get(n),c=[];for(t in o)e=o[t],c.push(function(o,e){return r.socket.on(""+n+":"+o,function(t){return bone.log&&console.log("Data-In: ["+n+":"+o+"]",t),e(t)})}(t,e));return c},bone.io.configure=function(n,o){var e,t,r,c,u,i;for(t=n,n=bone.io.sources[n]={socket:io.connect()},u=o.actions,i=[],r=0,c=u.length;c>r;r++)e=u[r],i.push(function(o){return n[o]=function(e){return bone.log&&console.log("Data-Out: ["+t+":"+o+"]",e),n.socket.emit(""+t+":"+o,e)}}(e));return i}}).call(this);